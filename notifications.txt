# Notification Events - TradeNBuySell Platform

This document outlines all possible events that should generate notifications for users (students) and admins.

---

## üì± **For Students/Regular Users**

### üè∑Ô∏è **Listing-Related Notifications**

1. **Listing Moderation**
   - LISTING_FLAGGED - Your listing was flagged by ML moderation and is pending admin review
   - LISTING_APPROVED - Your flagged listing has been approved by admin and is now active
   - LISTING_REJECTED - Your flagged listing has been rejected by admin
   - LISTING_DEACTIVATED - Your listing has been deactivated (manual or automatic)

2. **Listing Status Changes**
   - LISTING_FEATURED - Your listing has been featured and will appear at the top
   - LISTING_FEATURE_EXPIRED - Your listing's featured status has expired
   - LISTING_EDITED - Your listing edit created a new listing (old one deactivated)

3. **Listing Interactions**
   - LISTING_VIEWED - Someone viewed your listing (optional - for analytics)
   - LISTING_ADDED_TO_WISHLIST - Someone added your listing to their wishlist (optional)

---

### üí∞ **Bidding-Related Notifications**

4. **Bid Events**
   - NEW_BID_RECEIVED - Someone placed a bid on your biddable listing
   - BID_OUTBID - Your bid was outbid by another user
   - BID_WON - You won the bid on a listing
   - BID_LOST - You lost the bid (someone else won)
   - BID_FINALIZED - Listing owner finalized your winning bid
   - BIDDING_ENDING_SOON - Bidding on a listing you bid on is ending soon (e.g., 1 hour remaining)
   - BIDDING_ENDED - Bidding on a listing you bid on has ended

---

### ü§ù **Trade-Related Notifications**

5. **Trade Proposals**
   - TRADE_PROPOSED - Someone proposed a trade involving your listing
   - TRADE_ACCEPTED - Your trade proposal was accepted
   - TRADE_REJECTED - Your trade proposal was rejected
   - TRADE_CANCELLED - A trade you were involved in was cancelled
   - TRADE_COMPLETED - Trade has been completed successfully (both parties notified)
   - TRADE_ASK_NEW_PROPOSAL - Recipient asked for a new trade proposal

---

### üíµ **Purchase Offer Notifications**

6. **Purchase Offers**
   - PURCHASE_OFFER_RECEIVED - Someone made a purchase offer on your listing
   - PURCHASE_OFFER_ACCEPTED - Your purchase offer was accepted by the seller
   - PURCHASE_OFFER_REJECTED - Your purchase offer was rejected
   - PURCHASE_OFFER_COUNTERED - Seller countered your purchase offer with a new amount
   - COUNTER_OFFER_ACCEPTED - Buyer accepted your counter offer
   - PURCHASE_COMPLETED - Purchase transaction completed successfully

---

### üí¨ **Chat & Communication Notifications**

7. **Chat Messages**
   - NEW_MESSAGE - You received a new chat message (if not already in chat)

---

### üí≥ **Wallet & Transaction Notifications**

8. **Wallet Transactions**
   - WALLET_CREDITED - Funds credited to your wallet (sale, trade, refund, etc.)
   - WALLET_DEBITED - Funds debited from your wallet (purchase, trade, bid, etc.)

9. **Transaction Types to Notify**
   - Sale completed (credit)
   - Purchase completed (debit)
   - Trade cash adjustment (credit/debit)
   - Bid won payment (debit)
   - Bid won receipt (credit)
   - Refund received (credit)
   - Top-up successful (credit)
   - Featured listing payment (debit)

---

### ‚≠ê **Trust Score & Rating Notifications**

10. **Trust Score Updates**
    - TRUST_SCORE_UPDATED - Your trust score has been updated after receiving a rating
    - RATING_RECEIVED - You received a new rating from a completed transaction (anonymous)
    - RATING_REMINDER - Reminder to rate the other party after a completed transaction

---

### üë§ **Account & Security Notifications**

11. **Account Management**
    - ACCOUNT_SUSPENDED - Your account has been suspended by admin
    - ACCOUNT_REACTIVATED - Your account has been reactivated

---

### üìä **System & Feature Notifications**

12. **System Updates**
    - FEATURE_ANNOUNCEMENT - New feature announcement
    - MAINTENANCE_SCHEDULED - Scheduled maintenance notification
    - POLICY_UPDATE - Terms of service or policy update

---

## üë®‚Äçüíº **For Admins**

### üö® **Moderation Notifications**

1. **Content Moderation**
   - NEW_FLAGGED_LISTING - New listing flagged by ML moderation requires review

---

### üìù **Report Notifications**

2. **User Reports**
   - NEW_REPORT_SUBMITTED - New report submitted by a user
   - REPORT_RESOLVED - Report you were handling has been resolved
NOTE : Before we do this we need to have the reporting system implemented
---

### üë• **User Management Notifications**

3. **User Activity**
   - NEW_USER_REGISTERED - New user registration (optional - for monitoring)
   - SUSPICIOUS_ACTIVITY - Suspicious user activity detected (multiple flags, reports, etc.)
   - MULTIPLE_REPORTS_ON_USER - User has received multiple reports( I dont think needed as already covered in the SUSPICIOUS_ACTIVITY notification

---



---


---

## üéØ **Notification Priority Levels**

### **High Priority** (Immediate notification, sound/vibration)
- Account suspended
- Large transactions
- Trade/purchase completed
- Bid won/lost
- Insufficient funds

### **Medium Priority** (Notification, no sound)
- New bid received
- Trade proposal received
- Purchase offer received
- Listing flagged/approved/rejected
- New message (if not in chat)

### **Low Priority** (Silent notification, badge only)
- Trust score updated
- Listing viewed
- Feature announcements
- System updates

---

## üìã **Notification Delivery Methods**

1. **In-App Notifications** (Primary)
   - Notification center/bell icon
   - Real-time updates via WebSocket or polling
   - Badge count for unread notifications





---

## üìä **Notification Data Model**

Each notification should include:
- notificationId - Unique identifier
- userId - Recipient user ID
- type - Notification type (enum from above)
- title - Notification title
- message - Notification message/body
- relatedEntityId - ID of related entity (listingId, tradeId, offerId, etc.)
- relatedEntityType - Type of related entity (LISTING, TRADE, OFFER, etc.)
- isRead - Read status
- readAt - Timestamp when read
- priority - HIGH, MEDIUM, LOW
- createdAt - Timestamp when notification was created
- metadata - Additional JSON data (e.g., amount, listing title, etc.)

---

## üöÄ **Implementation Priority**

Implement all in one go


---

## üìù **Notes**


